<!-- dashboard.html -->
{% extends 'base.html' %}

{% block content %}
    <div class="px-5">
        <h1 class="text-center">Welcome to your dashboard {{ user.username }}</h1>
        <div class="alert alert-warning text-center" role="alert">
            <div>
                <h2>Note:</h2>
                <p>
                    The top 10 games are here, but the rest? Well... let’s just say my FICSIT factory’s power grid
                    decided to take a vacation, and I've been busy fixing it.
                    Between optimizing conveyor belts and making sure I don’t accidentally blow up another part of the
                    factory, the rest of the project is still "under construction."
                </p>
                <p>
                    This *FICSIT-grade* project comes with a live warranty: operational as long as I can avoid another
                    meltdown or get distracted by yet another resource shortage. Expect delays if I get caught in a
                    spiderweb of conveyor belts or run out of materials while trying to automate this thing.
                </p>

                <p>
                    Am i bored? No, I'm just... busy. Yeah, busy. I'm not playing games, I'm working on the factory. The factory must grow.
                </p>
            </div>
        </div>


        <div class="row">
            <div class="col-12 col-lg-6">
                <h2>Top 10 Games</h2>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead class="table-dark">
                        <tr>
                            <th>#</th>
                            <th>Game</th>
                            <th>Price</th>
                            <th>Average Playtime</th>
                            <th>Categorie</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for game in top_10_games %}
                            <tr>
                                <td>{{ forloop.counter }}</td>
                                <td>{{ game.name }}</td>
                                <td>{{ game.price }}</td>
                                <td>{{ game.average_playtime }} min</td>
                                <td>
                                    {# Only display the first 3 categories #}
                                    {% for category in game.categories|slice:":3" %}
                                        {{ category }}{% if not forloop.last %}, {% endif %}
                                    {% endfor %}
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}